@STRICT;

Writer : {
	new : class, dir -> class {
		dir;
		indent = "  ";
	};
	write : this, file, data -> (
		EXEC("mkdir"; "-p", RESOLVE("$(this.dir)/$file", ".."));
		WRITE("$(this.dir)/$file"; JSON(data; this.indent));
	);
};

{
    Writer;
}
